[参考文献](https://www.oracle.com/jp/a/tech/docs/technical-resources/0420-1330-oracle-architecture.pdf)を読む

# Oracle Databaseの概要

## 内部構造
### 処理の仕組み
- クライアントはSQLでデータベースにアクセス処理を要求
- データベース時は要求に従い処理を実行
- 物理的データはストレージに格納

### コンポーネント
- インスタンス
  - サーバ上にあるメモリ＋プロセス(書き込みなどを行う)
- データベース
  - ストレージにあるデータ

### プロセスの種類
- リスナー・プロセス
  - データベースに接続リクエスト
- サーバープロセス
  - ユーザーごとに起動され、リクエストされた処理を実行
- バックグラウンド・プロセス
  - ディスクへの変更反映

### メモリの種類
- システム・グローバル領域(SGA)
  - 表データや実行計画をキャッシュ
  - ユーザー間で共有するディスクI/Oを減らす
    - ディスクI/O - ハードディスクなどの外部記憶装置（ストレージ）に対するデータの読み書き操作
- プログラム・グローバル領域(PGA)
  - プロセスごとに確保される領域

### データベース・ファイルの種類
- データ・ファイル
  - ユーザーが利用するデータ（表など）を格納
- 制御ファイル
  - データベース構造、変更反映状況などの制御情報を格納
- REDOログ・ファイル
  - 変更履歴（DML,DDLなど）を格納
    - DML（データ操作言語）
      - Data Manipulation Languageの略でデータを操作するSQL文（SELECT文など）
    - DDL（データ定義言語）
      - Data Definition Languageの略でデータを定義するSQL文（CREATE文など）

## 処理の仕組み
### 概要
1. クライアント側で接続するデータベース情報を設定ファイルに接続
2. 接続時、リスナー・プロセスを通じて、データベースに接続
    - リスナー・プロセス データベースへの接続リクエストを受け取るプロセス

### 実行(検索処理)
1. ユーザー側からSQLの発行
2. リスナー・プロセスを経由してサーバープロセスへ
3. 共有プールにてSQL解析及び実行計画を立てる
4. 3を実行時、データ・ディクショナリでオブジェクトやユーザーの情報を基に事前解析を行う
5. 読み込んだデータはメモリにキャッシュする

### 実行(更新処理)
- 1~5は同じ
1. ユーザー側からSQLの発行
2. リスナー・プロセスを経由してサーバープロセスへ
3. 共有プールにてSQL解析及び実行計画を立てる
4. 3を実行時、データ・ディクショナリでオブジェクトやユーザーの情報を基に事前解析を行う
5. 読み込んだデータはメモリにキャッシュする
6. 変更履歴をREDOログ・バッファに持たせる
7. 変更後のデータをデータベースに持たせる(変更前のデータもROLLBACKできるように持たせる)